# SpotLine 데모 API 명세서 V2.0 (백엔드 연동 완료)

## ⚠️ 업데이트 알림
**이 문서는 V2.0으로 업데이트되었습니다.**
- 하드코딩 방식에서 백엔드 API 연동 방식으로 변경
- 데이터 관리 구조 개선
- 확장 가능한 아키텍처 적용

**최신 문서**: `DEMO_API_SPECIFICATION_V2.md` 참조

## 개요
SpotLine 데모는 업주 소개용으로 제작된 영업용 데모 시스템입니다. V2.0에서는 백엔드 API와 연동하여 데이터를 별도로 관리하는 구조로 개선되었습니다.

## 개선된 데모 플로우

### 1. 전체 플로우
```
홈페이지 → [🎭 데모 버튼] → /qr/demo_cafe_001 → /spotline/demo-store?qr=demo_cafe_001
                                                           ↓ API 호출
                                                    /api/demo/store
```

### 2. 아키텍처 변경사항

#### V1.0 (하드코딩 방식)
```
프론트엔드 컴포넌트 내부에 데모 데이터 하드코딩
→ 데이터 수정 시 프론트엔드 배포 필요
→ 확장성 제한
```

#### V2.0 (백엔드 API 연동)
```
프론트엔드 ← API 호출 ← 백엔드 API ← 데이터 레이어
→ 데이터 중앙 관리
→ 확장 가능한 구조
→ 실제 운영 API와 일관된 구조
```

## 새로운 API 엔드포인트

### 데모 매장 및 근처 Spot 조회
```http
GET /api/demo/store
```

**응답 구조**:
```json
{
  "success": true,
  "data": {
    "store": { /* SpotlineStore 객체 */ },
    "nextSpots": [ /* NextSpot 배열 */ ]
  },
  "message": "데모 데이터를 성공적으로 가져왔습니다.",
  "meta": {
    "isDemo": true,
    "scenario": "cafe",
    "timestamp": "2024-01-08T10:30:00.000Z"
  }
}
```

## 데이터 관리 구조

### 1. 데이터 레이어 분리
```
/src/data/demo.ts - 데모 데이터 정의
/src/app/api/demo/store/route.ts - API 엔드포인트
/src/app/spotline/demo-store/page.tsx - UI 렌더링
```

### 2. 확장 가능한 구조
```typescript
// 다양한 데모 시나리오 지원
export const DEMO_SCENARIOS = {
  cafe: { store: CAFE_STORE, nextSpots: CAFE_SPOTS },
  restaurant: { store: RESTAURANT_STORE, nextSpots: RESTAURANT_SPOTS }
  // 향후 확장 가능
};
```

## V1.0과 V2.0 비교

| 항목 | V1.0 (하드코딩) | V2.0 (API 연동) |
|------|----------------|----------------|
| 데이터 위치 | 프론트엔드 컴포넌트 내부 | 별도 데이터 레이어 |
| 데이터 수정 | 프론트엔드 배포 필요 | 데이터만 수정 가능 |
| 확장성 | 제한적 | 높음 |
| 일관성 | 실제 API와 다른 구조 | 실제 API와 일관된 구조 |
| 로딩 시뮬레이션 | 단순 setTimeout | 실제 API 호출 패턴 |
| 에러 처리 | 기본적 | 완전한 에러 처리 |

## 마이그레이션 가이드

### 백엔드 개발자
1. `BACKEND_DEMO_IMPLEMENTATION_PROMPT.md` 참조하여 API 구현
2. `/api/demo/store` 엔드포인트 생성
3. 데모 데이터 구조 정의
4. 로딩 시뮬레이션 및 에러 처리 구현

### 프론트엔드 개발자
1. 기존 하드코딩된 데이터 제거 (완료)
2. API 호출 로직 구현 (완료)
3. 에러 처리 UI 구현 (완료)
4. 로딩 상태 관리 (완료)

## 향후 확장 계획

### 1. 다양한 데모 시나리오
- 업종별 데모 (카페, 음식점, 소매점)
- 지역별 데모 (강남, 홍대, 이태원)
- 테마별 데모 (데이트, 비즈니스, 관광)

### 2. 개인화된 데모
- 업주 맞춤형 데모 생성
- 실제 매장 정보 기반 데모 제작
- A/B 테스트용 다양한 데모 버전

### 3. 고급 기능
- 데모 사용 패턴 분석
- 업주 피드백 수집 시스템
- 데모 효과성 측정 도구

## 결론

V2.0 업데이트를 통해 SpotLine 데모 시스템은 다음과 같은 개선을 달성했습니다:

- **확장 가능한 아키텍처**: 다양한 데모 시나리오 지원 가능
- **중앙 집중식 데이터 관리**: 데이터 수정 및 관리 용이성 향상
- **실제 API와의 일관성**: 동일한 구조로 개발자 경험 향상
- **완전한 에러 처리**: 안정적인 데모 체험 보장

이를 통해 업주들에게 더욱 완성도 높은 데모 경험을 제공하고, SpotLine의 가치를 효과적으로 전달할 수 있게 되었습니다.